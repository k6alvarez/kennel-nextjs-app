// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Permission {
  ADMIN
  USER
  EMPLOYEE
}

model Post {
  id        String  @id @default(cuid())
  title     String
  content   String?
  published Boolean @default(false)
  author    User?   @relation(fields: [authorId], references: [id])
  authorId  String?
}

model Account {
  id                 String  @id @default(cuid())
  userId             String  @map("user_id")
  type               String
  provider           String
  providerAccountId  String  @map("provider_account_id")
  refresh_token      String?
  access_token       String?
  expires_at         Int?
  token_type         String?
  scope              String?
  id_token           String?
  session_state      String?
  oauth_token_secret String?
  oauth_token        String?

  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([provider, providerAccountId])
  @@map("accounts")
}

model Session {
  id           String   @id @default(cuid())
  sessionToken String   @unique @map("session_token")
  userId       String   @map("user_id")
  expires      DateTime
  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("sessions")
}

model User {
  id                    String        @id @default(cuid())
  name                  String?
  lastName              String?
  email                 String?       @unique
  emailVerified         DateTime?     @map("email_verified")
  image                 String?
  address               String?
  addressUnit           String?
  city                  String?
  state                 String?
  zip                   String?
  phone                 String?
  altPhone              String?
  emergencyContactName  String?
  emergencyContactPhone String?
  createdAt             DateTime      @default(now()) @map(name: "created_at")
  updatedAt             DateTime      @updatedAt @map(name: "updated_at")
  posts                 Post[]
  accounts              Account[]
  sessions              Session[]
  permissions           Permission[]  @default(value: [USER])
  reservation           Reservation[]

  GuestReservation GuestReservation[]

  @@map(name: "users")
}

model VerificationToken {
  identifier String
  token      String   @unique
  expires    DateTime

  @@unique([identifier, token])
  @@map("verificationtokens")
}

model Reservation {
  id                  String   @id @default(cuid())
  createdAt           DateTime @default(now()) @map(name: "created_at")
  updatedAt           DateTime @updatedAt @map(name: "updated_at")
  submitted           Boolean  @default(false)
  confirmed           Boolean  @default(false)
  author              User     @relation(fields: [authorId], references: [id])
  authorId            String
  arrivalDate         String
  arrivalTime         String
  departureDate       String
  departureTime       String
  dateConfirmed       String
  specialInstructions String
}

model GuestReservation {
  id                             String   @id @default(cuid())
  createdAt                      DateTime @default(now()) @map(name: "created_at")
  updatedAt                      DateTime @updatedAt @map(name: "updated_at")
  submitted                      Boolean  @default(false)
  confirmed                      Boolean  @default(false)
  author                         User?    @relation(fields: [authorId], references: [id])
  authorId                       String?
  name                           String
  lastName                       String
  email                          String
  address                        String
  addressUnit                    String?
  city                           String
  state                          String
  zip                            String
  phone                          String
  altPhone                       String?
  emergencyContactName           String
  emergencyContactPhone          String
  arrivalDate                    String
  arrivalTime                    String
  departureDate                  String
  departureTime                  String
  dateConfirmed                  String?
  specialInstructions            String?
  howHear                        String?
  petOneType                     String
  petOneName                     String
  petOneBreed                    String
  petOneGender                   String
  petOneFixed                    String
  petOneColor                    String
  petOneImage                    String?
  petOneLargeImage               String?
  petOneVaccinations             String
  petOneVaccinationsLargeImage   String?
  petOneAge                      String
  petOneWeight                   String
  petOneVet                      String
  petOnePreferredRunSize         String
  petOneFeeding                  String
  petOneFeedingCount             String
  petTwoType                     String
  petTwoName                     String
  petTwoBreed                    String
  petTwoGender                   String
  petTwoFixed                    String
  petTwoColor                    String
  petTwoImage                    String?
  petTwoLargeImage               String?
  petTwoVaccinations             String
  petTwoVaccinationsLargeImage   String?
  petTwoAge                      String
  petTwoWeight                   String
  petTwoVet                      String
  petTwoPreferredRunSize         String
  petTwoFeeding                  String
  petTwoFeedingCount             String
  petThreeType                   String
  petThreeName                   String
  petThreeBreed                  String
  petThreeGender                 String
  petThreeFixed                  String
  petThreeColor                  String
  petThreeImage                  String?
  petThreeLargeImage             String?
  petThreeVaccinations           String
  petThreeVaccinationsLargeImage String?
  petThreeAge                    String
  petThreeWeight                 String
  petThreeVet                    String
  petThreePreferredRunSize       String
  petThreeFeeding                String
  petThreeFeedingCount           String
  petFourType                    String
  petFourName                    String
  petFourBreed                   String
  petFourGender                  String
  petFourFixed                   String
  petFourColor                   String
  petFourImage                   String?
  petFourLargeImage              String?
  petFourVaccinations            String
  petFourVaccinationsLargeImage  String?
  petFourAge                     String
  petFourWeight                  String
  petFourVet                     String
  petFourPreferredRunSize        String
  petFourFeeding                 String
  petFourFeedingCount            String
  petFiveType                    String
  petFiveName                    String
  petFiveBreed                   String
  petFiveGender                  String
  petFiveFixed                   String
  petFiveColor                   String
  petFiveImage                   String?
  petFiveLargeImage              String?
  petFiveVaccinations            String
  petFiveVaccinationsLargeImage  String?
  petFiveAge                     String
  petFiveWeight                  String
  petFiveVet                     String
  petFivePreferredRunSize        String
  petFiveFeeding                 String
  petFiveFeedingCount            String
  depositStatus                  String
  depositAmount                  String
  depositDate                    String
  depositId                      String
  depositLink                    String
}
